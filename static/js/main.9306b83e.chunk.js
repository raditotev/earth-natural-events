(this["webpackJsonpnatural-events"]=this["webpackJsonpnatural-events"]||[]).push([[0],{20:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(5),s=n.n(a),i=(n(20),n(6)),o=n(9);var u={status:"idle",data:null,error:null};function j(e){var t=r.useRef(Object(o.a)(Object(o.a)({},u),e)),n=r.useReducer((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),t.current),c=Object(i.a)(n,2),a=c[0],s=a.status,j=a.data,l=a.error,d=function(e){var t=r.useRef(!1);return r.useLayoutEffect((function(){return t.current=!0,function(){return t.current=!1}}),[]),r.useCallback((function(){return t.current?e.apply(void 0,arguments):void 0}),[e])}(c[1]),b=r.useCallback((function(e){return d({data:e,status:"resolved"})}),[d]),O=r.useCallback((function(e){return d({error:e,status:"rejected"})}),[d]),f=r.useCallback((function(){return d(t.current)}),[d]),v=r.useCallback((function(e){if(!e||!e.then)throw new Error("The argument passed to useAsync().run must be a promise. Maybe a function that's passed isn't returning anything?");return d({status:"pending"}),e.then((function(e){return b(e),e}),(function(e){return O(e),Promise.reject(e)}))}),[d,b,O]);return{isIdle:"idle"===s,isLoading:"pending"===s,isError:"rejected"===s,isSuccess:"resolved"===s,setData:b,setError:O,error:l,status:s,data:j,run:v,reset:f}}var l=n(3);function d(e){var t=e.description,n=e.children;return Object(l.jsxs)("div",{className:"icon",children:[Object(l.jsx)("div",{className:"event-card",children:t}),n]})}var b=n(10);function O(){return Object(l.jsxs)("div",{className:"loading",children:[Object(l.jsx)(b.a,{className:"spinner"}),Object(l.jsx)("h1",{children:"Loading..."})]})}function f(e){e.show;var t=Object(r.useState)(!0),n=Object(i.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){a(!1)}),1500);return function(){return clearTimeout(e)}}),[]),c?Object(l.jsx)("div",{className:"info",children:"No events in this category"}):null}var v=n(15),g=n(4),h=n(14),x=n(8),p=n(13),m={6:Object(l.jsx)(g.g,{}),7:Object(l.jsx)(g.b,{}),16:Object(l.jsx)(x.a,{}),9:Object(l.jsx)(x.b,{}),14:Object(l.jsx)(g.d,{}),19:Object(l.jsx)(g.a,{}),15:Object(l.jsx)(g.e,{}),17:Object(l.jsx)(g.f,{}),18:Object(l.jsx)(b.b,{}),12:Object(l.jsx)(g.c,{}),13:Object(l.jsx)(p.a,{}),8:Object(l.jsx)(h.a,{}),10:Object(l.jsx)(x.c,{})},E=n(24);function y(e){var t=e.category,n=j({data:[]}),c=n.isLoading,a=n.data.events,s=n.run;function o(e,n,r){var c=Object(i.a)(e,2),a=c[0],s=c[1];return Object(l.jsx)(d,{lat:s,lng:a,description:n.title,children:m[t]},n.id+r)}return Object(r.useEffect)((function(){t&&s(E("https://eonet.sci.gsfc.nasa.gov/api/v2.1/categories/".concat(t)).then((function(e){return e.json()})))}),[t,s]),Object(l.jsxs)(r.Fragment,{children:[c&&Object(l.jsx)(O,{}),0===(null===a||void 0===a?void 0:a.length)&&Object(l.jsx)(f,{}),Object(l.jsx)(v.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"/earth-natural-events",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_API_KEY},defaultCenter:{lat:45,lng:0},defaultZoom:1,children:null===a||void 0===a?void 0:a.map((function(e,t){if(e.geometries.length>1||Array.isArray(e.geometries[0].coordinates[0]))return(e.geometries.length>1?e.geometries.map((function(e){return e.coordinates})):e.geometries[0].coordinates[0]).map((function(t,n){return c?null:o(t,e,n)}));var n=e.geometries[0].coordinates;return c?null:o(n,e,t)})).flat()})]})}function C(e){e.category;var t=e.setCategory,n=j({data:{categories:[]}}),c=n.data.categories,a=n.run;return Object(r.useEffect)((function(){a(fetch("https://eonet.sci.gsfc.nasa.gov/api/v2.1/categories").then((function(e){return e.json()})))}),[a]),Object(l.jsxs)("header",{children:[Object(l.jsxs)("h1",{children:["Earth Natural Events",Object(l.jsxs)("span",{children:["Powered by ",Object(l.jsx)("strong",{children:"NASA"})]})]}),Object(l.jsxs)("select",{name:"categories","aria-label":"Select natural event",onChange:function(e){t(e.target.value)},children:[Object(l.jsx)("option",{value:"",children:"Select event type"}),null===c||void 0===c?void 0:c.map((function(e){var t=e.id,n=e.title;return Object(l.jsx)("option",{value:t,children:n},t)}))]})]})}var S=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(l.jsxs)(r.Fragment,{children:[Object(l.jsx)(C,{category:n,setCategory:c}),Object(l.jsx)(y,{category:n})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root")),T()}},[[25,1,2]]]);
//# sourceMappingURL=main.9306b83e.chunk.js.map